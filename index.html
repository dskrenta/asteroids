<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Asteroids</title>
    <style>
      body {
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <!-- vendor js -->
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
    <script src="http://cdn.jsdelivr.net/phaser/2.5.0/phaser.min.js"></script>
    <!-- game js -->
    <script src="js/Boot.js"></script>
	  <script src="js/Preloader.js"></script>
	  <script src="js/MainMenu.js"></script>
	  <script src="js/Game.js"></script>
    <script src="js/Asteroids.js"></script>

    <script type="text/javascript">
      window.onload = function() {
      	var game = new Phaser.Game("100%", "100%", Phaser.AUTO, '');

      	game.state.add('Boot', BasicGame.Boot);
      	game.state.add('Preloader', BasicGame.Preloader);
      	//game.state.add('MainMenu', BasicGame.MainMenu);
      	game.state.add('Game', BasicGame.Game);
        game.state.add('Asteroids', BasicGame.Asteroids);

      	game.state.start('Boot');
      };
    </script>

    <!--
    <script>
    var socket = io();
    var game = new Phaser.Game(800, 600, Phaser.AUTO, 'phaser-game', { preload: preload, create: create, update: update});
    var sprite;
    var id;

    function preload() {
      game.load.image('mushroom', 'assets/mushroom2.png');
    }

    function create() {
      sprite = game.add.sprite(rand(), rand(), 'mushroom');
    }

    function update() {
      if (game.input.keyboard.isDown(Phaser.Keyboard.LEFT)) {
          sprite.x -= 4;
          var position = {id: id, x: sprite.x, y: sprite.y};
          socket.emit('position update', position);
      }
      else if (game.input.keyboard.isDown(Phaser.Keyboard.RIGHT)) {
          sprite.x += 4;
          var position = {id: id, x: sprite.x, y: sprite.y};
          socket.emit('position update', position);
      }
      if (game.input.keyboard.isDown(Phaser.Keyboard.UP)) {
          sprite.y -= 4;
          var position = {id: id, x: sprite.x, y: sprite.y};
          socket.emit('position update', position);
      }
      else if (game.input.keyboard.isDown(Phaser.Keyboard.DOWN)) {
          sprite.y += 4;
          var position = {id: id, x: sprite.x, y: sprite.y};
          socket.emit('position update', position);
        }
    }

    function rand() {
      return Math.floor((Math.random() * 300) + 1);
    }

    socket.on('welcome', function(data) {
      console.log(data.message);
      console.log(data.id);
      id = data.id;
    });

    socket.on('global position update', function(position) {
      console.log(`socket-id: ${position.id}, x-position: ${position.x}, y-position: ${position.y}`);
    });

    </script>
  -->
  </body>
</html>
